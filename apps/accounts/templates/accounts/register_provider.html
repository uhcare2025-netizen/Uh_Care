{% extends "base.html" %}
{% load static %}

{% block title %}Provider Registration - UH Care{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<style>
    /* Override primary color to green for provider pages */
    .auth-sidebar {
        background: linear-gradient(135deg, #009e4d 0%, #007a3d 100%);
    }

    .btn-auth-primary {
        background-color: #009e4d;
    }

    .btn-auth-primary:hover {
        background-color: #007a3d;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
        border-color: #009e4d;
        box-shadow: 0 0 0 3px rgba(0, 158, 77, 0.2);
    }

    .form-section-title {
        border-bottom-color: #009e4d;
        color: #009e4d;
    }
</style>
{% endblock %}


{% block content %}
<div class="auth-page">
    <div class="auth-page-bg">
        <video autoplay muted loop playsinline>
            <source src="{% static 'videos/Back-ground.mp4' %}" type="video/mp4">
        </video>
        <div class="auth-page-overlay"></div>
    </div>

    <div class="auth-container">
        <!-- SIDEBAR -->
        <div class="auth-sidebar">
            <div class="auth-sidebar-content">
                <img src="{% static 'images/side-image.png' %}" alt="UH Care" class="auth-sidebar-image">
                <h2>Join Our Team</h2>
                <p>Register as a healthcare provider and reach more patients</p>
                
                <div class="auth-sidebar-benefits">
                    <div class="auth-sidebar-benefit">
                        <i class="fas fa-stethoscope"></i>
                        <span>Grow Your Practice</span>
                    </div>
                    <div class="auth-sidebar-benefit">
                        <i class="fas fa-users"></i>
                        <span>Connect with Patients</span>
                    </div>
                    <div class="auth-sidebar-benefit">
                        <i class="fas fa-chart-line"></i>
                        <span>Manage Your Schedule</span>
                    </div>
                    <div class="auth-sidebar-benefit">
                        <i class="fas fa-lock"></i>
                        <span>HIPAA Compliant</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- FORM SECTION -->
        <div class="auth-form-section">
            <div class="auth-form-header">
                <h1><i class="fas fa-user-md"></i> Healthcare Provider Registration</h1>
                <p>Create your professional account</p>
            </div>

            {% if form.errors and not form.non_field_errors %}
                <div class="alert alert-danger">
                    Please correct the errors below.
                </div>
            {% endif %}

            {% if form.non_field_errors %}
                <div class="alert alert-danger">{{ form.non_field_errors }}</div>
            {% endif %}

            <form method="post" class="auth-form">
                {% csrf_token %}

                <!-- Basic Information -->
                <div class="form-section-title">Professional Information</div>

                {% for field in form %}
                    {% if field.name not in "password1,password2" %}
                        <div class="form-group {% if field.errors %}has-error{% endif %}">
                            <label for="{{ field.id_for_label }}">
                                {% if field.name == "first_name" %}<i class="fas fa-user"></i>{% endif %}
                                {% if field.name == "last_name" %}<i class="fas fa-user"></i>{% endif %}
                                {% if field.name == "email" %}<i class="fas fa-envelope"></i>{% endif %}
                                {% if field.name == "specialization" %}<i class="fas fa-stethoscope"></i>{% endif %}
                                {% if field.name == "license_number" %}<i class="fas fa-certificate"></i>{% endif %}
                                {% if field.name == "phone_number" %}<i class="fas fa-phone"></i>{% endif %}
                                {% if field.name == "experience_years" %}<i class="fas fa-briefcase"></i>{% endif %}
                                {% if field.name == "hospital_affiliation" %}<i class="fas fa-hospital"></i>{% endif %}
                                {% if field.name == "bio" %}<i class="fas fa-file-alt"></i>{% endif %}
                                {{ field.label }}
                            </label>
                            {{ field }}
                            {% if field.help_text %}
                                <div class="form-text">{{ field.help_text|safe }}</div>
                            {% endif %}
                            {% if field.errors %}
                                <ul class="field-errors">
                                    {% for error in field.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                    {% endif %}
                {% endfor %}

                <!-- Account Security -->
                <div class="form-section-title">Account Security</div>

                {% for field in form %}
                    {% if field.name == "password1" or field.name == "password2" %}
                        <div class="form-group {% if field.errors %}has-error{% endif %}">
                            <label for="{{ field.id_for_label }}">
                                <i class="fas fa-lock"></i> {{ field.label }}
                            </label>
                            {{ field }}
                            {% if field.help_text %}
                                <div class="form-text">{{ field.help_text|safe }}</div>
                            {% endif %}
                            {% if field.errors %}
                                <ul class="field-errors">
                                    {% for error in field.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                    {% endif %}
                {% endfor %}

                <button type="submit" class="btn-auth btn-auth-primary">
                    <i class="fas fa-check-circle"></i> Register as Provider
                </button>
            </form>

            <div class="auth-links">
                <p>Already have an account? <a href="{% url 'accounts:login' %}">Login here</a></p>
                <p>Are you a patient? <a href="{% url 'accounts:register_patient' %}">Register as Patient</a></p>
            </div>
        </div>
    </div>
</div>

<style>
    .form-section-title {
        font-size: 0.95rem;
        font-weight: 700;
        color: #009e4d;
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #e5e5ea;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .form-section-title:first-child {
        margin-top: 0;
    }
</style>
{% endblock %}